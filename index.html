<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embedded Viz 3.0 (Human & Fan)</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
</head>
<body>

    <div class="background-orb orb-1"></div>
    <div class="background-orb orb-2"></div>

    <div class="app-container">
        <header class="glass-panel header">
            <div class="logo">
                <span class="logo-icon">üí†</span>
                <h1>Embedded Viz</h1>
            </div>
            <div id="status-display" class="status-pill">System Ready...</div>
            <nav class="nav-links">
                <a href="#home" class="nav-item">Home</a>
            </nav>
        </header>

        <main id="main-content">
            <section id="home" class="screen active">
                <div class="hero-text">
                    <h2>ÁµÑ„ÅøËæº„Åø„ÅÆ‰∏ñÁïå„Çí„ÄÅ<br>„ÅÆ„Åû„ÅÑ„Å¶„Åø„Çà„ÅÜ„ÄÇ</h2>
                    <p>Ë¶ã„Åà„Å™„ÅÑ„Äå„ÇΩ„Éï„Éà„Ç¶„Çß„Ç¢„ÅÆÂãï„Åç„Äç„ÇíÂèØË¶ñÂåñ„Åô„Çã„Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„ÉñÊïôÊùê</p>
                </div>
                <div class="card-grid">
                    <a href="#temperature" class="card glass-panel hover-lift">
                        <div class="card-icon">ü•∂ü•µ</div>
                        <h3>1. Analog to Digital</h3>
                        <p>Ê∏©Â∫¶Â§âÂåñ„Å®„Çª„É≥„Çµ„ÉªADC„ÅÆÊµÅ„Çå</p>
                        <div class="tag">Updated</div>
                    </a>
                    <a href="#control" class="card glass-panel hover-lift">
                        <div class="card-icon">üå™Ô∏è</div>
                        <h3>2. PWM Control</h3>
                        <p>PWMÂà∂Âæ°„Å®ÊâáÈ¢®Ê©ü„ÅÆÈ¢®ÈáèÂ§âÂåñ</p>
                        <div class="tag">Updated</div>
                    </a>
                    <a href="#interrupt" class="card glass-panel hover-lift">
                        <div class="card-icon">‚ö°</div>
                        <h3>3. Interrupt</h3>
                        <p>„ÄåÂâ≤„ÇäËæº„Åø„Äç„Å®„ÅÑ„ÅÜÊÄ•„Å™‰ªï‰∫ã</p>
                    </a>
                    <a href="#deadline" class="card glass-panel hover-lift">
                        <div class="card-icon">‚è±Ô∏è</div>
                        <h3>4. Real-time</h3>
                        <p>Á∑†Âàá„ÇíÂÆà„Çå„Å™„ÅÑ„Å®‰Ωï„ÅåËµ∑„Åç„ÇãÔºü</p>
                    </a>
                    <a href="#memory" class="card glass-panel hover-lift">
                        <div class="card-icon">üíæ</div>
                        <h3>5. Memory Stack</h3>
                        <p>Ë¶ã„Åà„Å™„ÅÑÂ£Å„Å®„ÅÆ„ÉÅ„Ç≠„É≥„É¨„Éº„Çπ</p>
                    </a>
                </div>
            </section>

            <section id="temperature" class="screen">
                <div class="viz-area glass-panel">
                    <canvas id="temp-flow-canvas" class="overlay-canvas"></canvas>
                    
                    <div class="flow-step env-step">
                        <div class="human-wrapper" id="human-wrapper">
                            <div class="human-face">
                                <div class="eyes">
                                    <div class="eye left"></div><div class="eye right"></div>
                                </div>
                                <div class="mouth"></div>
                                <div class="sweat">üíß</div>
                            </div>
                            <div class="human-temp-badge"><span id="human-temp-val">25</span>¬∞C</div>
                        </div>
                        <div class="label">ENV (YOU)</div>
                    </div>

                    <div class="flow-step sensor-icon-step">
                        <div class="sensor-chip">
                            <div class="chip-body">
                                <span>TMP<br>36</span>
                            </div>
                            <div class="chip-legs">
                                <div></div><div></div><div></div>
                            </div>
                        </div>
                        <div class="label">SENSOR</div>
                    </div>
                    
                    <div class="flow-step voltage-step">
                        <div class="meter-display">
                            <span id="disp-volt">0.00</span><small>V</small>
                        </div>
                        <div class="graph-box">
                            <canvas id="canvas-volt" class="mini-graph"></canvas>
                        </div>
                        <div class="label">ANALOG V</div>
                    </div>

                    <div class="flow-step adc-step">
                        <div class="adc-box">
                            <div class="binary-matrix" id="adc-binary">0000 0000 0000</div>
                            <div class="adc-int" id="disp-adc">0</div>
                        </div>
                        <div class="label">ADC (12bit)</div>
                    </div>

                    <div class="flow-step cpu-step">
                        <div class="cpu-card">
                            <div class="cpu-val" id="disp-temp">00.0</div>
                            <small>¬∞C</small>
                        </div>
                        <div class="label">CPU CALC</div>
                    </div>
                </div>

                <div class="glass-panel reference-panel">
                    <div class="panel-header-small">REFERENCE: DATASHEET</div>
                    <div class="datasheet-row">
                        <div class="datasheet-graph-wrapper">
                            <canvas id="canvas-temp-char" class="datasheet-canvas"></canvas>
                        </div>
                        <div class="datasheet-desc">
                            <p><strong>ÁâπÊÄß„Ç∞„É©„Éï (V-T)</strong></p>
                            <p>Ê∏©Â∫¶„Åå‰∏ä„Åå„Çã„Å®ÈõªÂúß„ÅåÁõ¥Á∑öÁöÑ„Å´‰∏ä„Åå„ÇãÁâπÊÄß„ÇíÊåÅ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>
                            <code>Vout = 0.5V + (Temp / 100)</code>
                        </div>
                    </div>
                </div>

                <div class="control-area glass-panel">
                    <div class="slider-group">
                        <label>Âë®Âõ≤Ê∏©Â∫¶ (Environment)</label>
                        <input type="range" id="input-temp" min="-20" max="100" value="25" class="modern-range temp-range">
                        <div class="range-labels"><span>‚ùÑÔ∏è -20¬∞C</span><span>üî• 100¬∞C</span></div>
                    </div>
                    <div class="switch-group">
                        <label class="switch">
                            <input type="checkbox" id="input-noise">
                            <span class="slider round"></span>
                        </label>
                        <span>ÈõªÊ∞ó„Éé„Ç§„Ç∫ ON</span>
                    </div>
                </div>
                <div class="action-bar" id="action-bar-temp"></div>
            </section>

            <section id="control" class="screen">
                <div class="viz-area glass-panel">
                    <canvas id="ctrl-flow-canvas" class="overlay-canvas"></canvas>

                    <div class="flow-step">
                        <div class="icon-circle" id="ctrl-icon-input">üïπÔ∏è</div>
                        <div class="meter-display" style="font-size: 1.4rem;">
                            <span id="disp-stick">0</span>
                        </div>
                        <div class="label">INPUT</div>
                    </div>

                    <div class="flow-step mcu-step">
                        <div class="mcu-box">
                            <div class="mcu-chip">
                                <span class="chip-text">MCU</span>
                            </div>
                            <div class="mcu-logic">
                                <div>Duty = abs(In)</div>
                                <div>Dir = sign(In)</div>
                            </div>
                        </div>
                        <div class="label">LOGIC</div>
                    </div>

                    <div class="flow-step scope-step">
                        <div class="scope-container">
                            <div class="scope-label">PWM (Speed)</div>
                            <canvas id="canvas-ctrl-pwm" class="signal-canvas small-scope"></canvas>
                            <div class="scope-label" style="margin-top:8px;">DIR (Polarity)</div>
                            <canvas id="canvas-ctrl-dir" class="signal-canvas small-scope dir-h"></canvas>
                        </div>
                        <div class="label">OSCILLOSCOPE</div>
                    </div>

                    <div class="flow-step fan-step">
                        <div class="fan-container">
                            <div class="fan-housing">
                                <div id="fan-blades" class="fan-blades">
                                    <div class="blade b1"></div>
                                    <div class="blade b2"></div>
                                    <div class="blade b3"></div>
                                </div>
                                <div class="fan-hub"></div>
                            </div>
                            <div id="wind-effect" class="wind-effect-container"></div>
                        </div>
                        <div class="rpm-display" style="font-size: 1.2rem;">
                            <span id="disp-rpm">0</span> RPM
                            <div id="disp-dir-text" style="font-size: 0.8rem; color: #aaa;">STOP</div>
                        </div>
                        <div class="label">FAN</div>
                    </div>
                </div>

                <div class="control-area glass-panel">
                    <div class="slider-group">
                        <label>Joystick Input</label>
                        <input type="range" id="input-stick" min="-100" max="100" value="0" class="modern-range stick-style">
                        <div class="range-labels">
                            <span style="color: var(--danger)">‚óÄ Âê∏Ê∞ó (Rev)</span>
                            <span>Stop</span>
                            <span style="color: var(--secondary)">ÈÄÅÈ¢® (Fwd) ‚ñ∂</span>
                        </div>
                    </div>
                </div>
                <div class="action-bar" id="action-bar-ctrl"></div>
            </section>

            <section id="interrupt" class="screen">
                <div class="viz-area glass-panel no-pad">
                    <canvas id="canvas-int" class="full-canvas"></canvas>
                    <div class="overlay-ui">
                        <div class="mode-badge" id="int-mode-badge">POLLING MODE</div>
                    </div>
                </div>
                <div class="control-area glass-panel row-layout">
                    <div class="toggle-group">
                        <button class="mode-btn active" data-mode="polling">Polling</button>
                        <button class="mode-btn" data-mode="interrupt">Interrupt</button>
                    </div>
                    <div class="trigger-wrapper">
                        <button id="btn-trigger-event" class="big-trigger-btn">‚ö° EVENT</button>
                        <div class="sub-text">Âá¶ÁêÜÊôÇÈñì: <select id="sel-isr-time" class="modern-select"><option value="10">10ms</option><option value="40">40ms</option></select></div>
                    </div>
                </div>
                <div class="action-bar" id="action-bar-int"></div>
            </section>

            <section id="deadline" class="screen">
                <div class="viz-area glass-panel center-content flex-col">
                    <div class="deadline-visualizer">
                        <div class="timeline-track">
                            <div class="deadline-line"><span>DEADLINE (100ms)</span></div>
                            <div id="task-bar" class="task-bar"><span class="task-label">Processing...</span></div>
                        </div>
                    </div>
                    <div id="deadline-msg" class="status-big">Ready</div>
                </div>
                <div class="control-area glass-panel">
                    <div class="preset-buttons">
                        <button class="preset safe" data-load="30">üü¢ 30ms (OK)</button>
                        <button class="preset warn" data-load="90">üü° 90ms (Warn)</button>
                        <button class="preset danger" data-load="120">üî¥ 120ms (NG)</button>
                    </div>
                </div>
                <div class="action-bar" id="action-bar-dl"></div>
            </section>

            <section id="memory" class="screen">
                <div class="viz-area glass-panel center-content" id="mem-container">
                    <div class="memory-tower">
                        <div class="mem-header stack">Stack</div>
                        <div class="mem-body">
                            <div id="block-stack" class="mem-block stack-block"></div>
                            <div class="mem-gap">Free</div>
                            <div id="block-heap" class="mem-block heap-block"></div>
                        </div>
                        <div class="mem-header heap">Heap</div>
                    </div>
                    <div class="mem-info">
                        <div>Stack: <span id="val-stack">0</span>%</div>
                        <div>Heap: <span id="val-heap">0</span> B</div>
                    </div>
                </div>
                <div class="control-area glass-panel row-layout">
                    <div class="group">
                        <label>Call Depth</label>
                        <input type="range" id="input-stack" min="1" max="5" step="1" value="1" class="modern-range">
                    </div>
                    <div class="group">
                        <button id="btn-malloc" class="action-btn">Malloc</button>
                    </div>
                </div>
                <div class="action-bar" id="action-bar-mem"></div>
            </section>

        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>